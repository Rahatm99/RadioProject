<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
</head>

<body>
    <nav>
        <%- include('../partials/nav') %>
    </nav>

    <%- include('../partials/sidebar') %>

    <div class="Content">
        <div class ="MainGrid">
            <div class="TimeslotBox" style="margin-left: .5em; font-family: Helvetica;">
                <h1 style="padding: 0%;">Timeslot Info</h1>
                <h2 id="timeslot"></h2>
                <h3 id="djName"></h3>
                <h4 id="songPlaying">Now Playing: Nothing | By: | Length:</h4>
                <p id="demo"></p>
            </div>

            <div class="DjList" style="font-family: Helvetica; font-size: 1em; text-align: center;">
                <h1>DJ List</h1>
                <!--Search Bar-->
                <h2>Search:<input type="text" id="searchInput" onkeyup="searchDJs()" placeholder="Enter DJ Name"></h2>
                
                <!--Toggles the list shown-->
                <button onclick="toggleList()">Change DJ/Song</button>

                <ul class="DjPeopleList" id="djList">
                    <li>DJ Analyze
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>
                    
                    <li>DJ Soda
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>

                    <li>DJ Khaled
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>

                    <li>DJ Shaq Diesel
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>

                    <li>DJ Mango Boy
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>

                    <li>DJ IMissHer
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>

                    <li>DJ Asim
                        <p>Availability: xx:xx - xx:xx</p>
                        <button onclick="confirmBooking()" class="BookButton">Book</button>
                    </li>
                    
                </ul>

                <!--Created in the js file-->
                <ul class="SongList" id="songList" style="text-align: left;"></ul>
                <script>
                    const songs = JSON.parse(`<%- JSON.stringify(DBsongs) %>`);
                    const songListElement = document.getElementById('songList');
                    
                    songs.forEach(song => {
                        const listItem = document.createElement('li');
                        listItem.textContent = `${song.title} by ${song.artist} | Length: ${song.length}`;
                        const playButton = document.createElement("button");
                        playButton.textContent = "Play";
                        playButton.classList.add("BookButton");
                        playButton.addEventListener("click", () => {
                            playSong(song.title, song.artist, song.length);
                        });

                        songListElement.appendChild(listItem);
                        listItem.appendChild(playButton);
                    });
                </script>
            </div>
        </div>
    </div>

</body>
</html>

